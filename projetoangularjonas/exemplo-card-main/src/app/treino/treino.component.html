<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treino de Hoje - FIT</title>
    <link rel="stylesheet" href="treinodehoje.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="app-layout">
        
        <aside class="sidebar">
            <div class="logo-area">
                <div class="logo-box">FIT</div>
            </div>
            
            <nav class="main-nav">
                <a class="nav-item" onclick="IrParaHome()">
                    <i class="fas fa-home"></i> Home
                </a>

                <a class="nav-item active" onclick="IrParaTreino()">
                    <i class="fas fa-dumbbell"></i> Treinos
                </a>

                <a class="nav-item" onclick="IrParaNutri()">
                    <i class="fas fa-utensils"></i> Nutrição
                </a>
            </nav>
            
            <div class="profile-area">
                <a class="nav-item profile-link" onclick="IrParaPerfil()">
                    <i class="fas fa-user-circle"></i> Perfil
                </a>
            </div>
        </aside>

        <main class="training-content">
            
            <header class="training-header">
                <h1 class="training-title">Treino de hoje</h1>
                <p class="training-subtitle">Descanso de 1 min entre as séries</p>
            </header>

            <div class="vertical-progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <section class="exercise-list">

                <div class="exercise-card pending" onclick="toggleExercise(this)">
                    <div class="exercise-info">
                        <span class="exercise-name">Agachamento livre</span>
                        <span class="exercise-details">3 séries – 12 repetições</span>
                    </div>
                    <div class="completion-icon">
                        <i class="far fa-circle"></i>
                    </div>
                </div>

                <div class="exercise-card pending" onclick="toggleExercise(this)">
                    <div class="exercise-info">
                        <span class="exercise-name">Cadeira extensora</span>
                        <span class="exercise-details">3 séries – 12 repetições</span>
                    </div>
                    <div class="completion-icon">
                        <i class="far fa-circle"></i>
                    </div>
                </div>

                <div class="exercise-card pending" onclick="toggleExercise(this)">
                    <div class="exercise-info">
                        <span class="exercise-name">Leg press</span>
                        <span class="exercise-details">3 séries – 12 repetições</span>
                    </div>
                    <div class="completion-icon">
                        <i class="far fa-circle"></i>
                    </div>
                </div>

                <div class="exercise-card pending" onclick="toggleExercise(this)">
                    <div class="exercise-info">
                        <span class="exercise-name">Pernas</span>
                        <span class="exercise-details">3 séries – 12 repetições</span>
                    </div>
                    <div class="completion-icon">
                        <i class="far fa-circle"></i>
                    </div>
                </div>

                <div class="exercise-card pending" onclick="toggleExercise(this)">
                    <div class="exercise-info">
                        <span class="exercise-name">Abdômen</span>
                        <span class="exercise-details">3 séries – 12 repetições</span>
                    </div>
                    <div class="completion-icon">
                        <i class="far fa-circle"></i>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        function IrParaHome(){window.location.href="homeprincipal.html";}
        function IrParaTreino(){window.location.href="treinodehoje.html";}
        function IrParaNutri(){window.location.href="nutrição.html";}
        function IrParaPerfil(){window.location.href="perfil.html";}

        function toggleExercise(card) {
            if (card.classList.contains("completed")) {
                card.classList.remove("completed");
                card.classList.add("pending");
                card.querySelector(".completion-icon").innerHTML = '<i class="far fa-circle"></i>';
            } else {
                card.classList.remove("pending");
                card.classList.add("completed");
                card.querySelector(".completion-icon").innerHTML = '<i class="fas fa-check"></i>';
            }
            updateProgress();
        }

        function updateProgress() {
            const cards = document.querySelectorAll(".exercise-card");
            const total = cards.length;
            const done = document.querySelectorAll(".exercise-card.completed").length;
            const percent = Math.round((done / total) * 100);

            document.getElementById("progressFill").style.height = percent + "%";

            localStorage.setItem("treinoProgresso", JSON.stringify({
                total: total,
                feitos: done,
                porcentagem: percent
            }));
        }

        window.onload = () => {
            const saved = JSON.parse(localStorage.getItem("treinoProgresso"));
            if (saved) {
                const cards = document.querySelectorAll(".exercise-card");
                let count = 0;
                cards.forEach((card) => {
                    if (count < saved.feitos) {
                        card.classList.remove("pending");
                        card.classList.add("completed");
                        card.querySelector(".completion-icon").innerHTML = '<i class="fas fa-check"></i>';
                        count++;
                    }
                });
                document.getElementById("progressFill").style.height = saved.porcentagem + "%";
            }
        }
    </script>

</body>
</html>